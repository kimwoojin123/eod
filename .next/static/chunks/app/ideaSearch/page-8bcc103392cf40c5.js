(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[758],{8224:function(e,t,r){Promise.resolve().then(r.bind(r,5605))},5605:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return x}});var a=r(3827),s=r(4090),n=r(8792),l=r(4605),c=r(7907),o=e=>{let{onSearch:t}=e,[r,n]=(0,s.useState)(""),[l,c]=(0,s.useState)("title");return(0,a.jsxs)("div",{children:[(0,a.jsxs)("select",{value:l,onChange:e=>c(e.target.value),className:"border",children:[(0,a.jsx)("option",{value:"title",children:"제목"}),(0,a.jsx)("option",{value:"textContent",children:"내용"}),(0,a.jsx)("option",{value:"username",children:"작성자"})]}),(0,a.jsx)("input",{type:"text",value:r,onChange:e=>n(e.target.value),className:"border"}),(0,a.jsx)("button",{className:"border",onClick:()=>{t(l,r)},children:"검색"})]})},i=r(8245),d=r.n(i),u=r(137),h=r(731);function x(){let[e,t]=(0,s.useState)([]),[r,i]=(0,s.useState)(1),[x,p]=(0,s.useState)(1),[b,m]=(0,s.useState)([]),[f,j]=(0,s.useState)(""),[g,w]=(0,s.useState)(!1),v=(0,c.useRouter)(),y=()=>w(!0),N=()=>w(!1);(0,s.useEffect)(()=>{(async()=>{try{let e;if(0===b.length){e=await fetch("/api/board-list");let a=await e.json();p(Math.ceil(a.length/2)),t(a.reverse().slice((r-1)*2,2*r))}}catch(e){console.error("Error fetching board list:",e)}})()},[r,b]),(0,s.useEffect)(()=>{i(parseInt(new URLSearchParams(window.location.search).get("page")||"1"))},[r]);let C=async e=>{try{await v.push("/ideaSearch?page=".concat(e)),i(e)}catch(e){console.error("Error navigating to page:",e)}};return(0,a.jsxs)("div",{className:"h-screen p-4",children:[(0,a.jsx)(l.default,{}),(0,a.jsx)("button",{className:"rounded-xl bg-gray-300 w-28 h-10 ml-80 mb-5",onClick:()=>{m([]),v.push("/ideaSearch")},children:"전체 글 보기"}),(0,a.jsx)("div",{className:"flex justify-center items-start w-screen",children:(0,a.jsxs)("table",{className:"table-auto w-8/12 border border-collapse mb-10",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{className:"bg-gray-100",children:[(0,a.jsx)("th",{className:"w-1/5 px-4 py-2 border-b border-r",children:"작성자"}),(0,a.jsx)("th",{className:"w-3/5 px-4 py-2 border-b border-r",children:"글 제목"}),(0,a.jsx)("th",{className:"w-1/5 px-4 py-2 border-b",children:"작성일시"})]})}),(0,a.jsx)("tbody",{children:b.length>0?b.map((e,t)=>(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"px-4 py-2 border-b border-r",children:e.username}),(0,a.jsx)("td",{className:"px-4 py-2 border-b border-r",children:(0,a.jsx)(n.default,{href:"/ideaSearch/".concat(e._id),children:e.title})}),(0,a.jsx)("td",{className:"px-4 py-2 border-b",children:e.addDate})]},e._id.toString())):e.map((e,t)=>{var r;return(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"px-4 py-2 border-b border-r",children:e.username}),(0,a.jsxs)("td",{className:"px-4 py-2 border-b border-r flex items-center",children:[(0,a.jsx)(n.default,{href:"/ideaSearch/".concat(e._id),children:e.title}),(0,a.jsx)(h.Z,{className:"w-4 h-4 ml-3"}),(null===(r=e.replies)||void 0===r?void 0:r.length)||0,(0,a.jsx)(u.Z,{className:"w-4 h-4 text-red-500 ml-2"}),e.likes]}),(0,a.jsx)("td",{className:"px-4 py-2 border-b",children:e.addDate})]},e._id.toString())})})]})}),(0,a.jsx)("div",{className:"flex justify-center",children:(0,a.jsx)(o,{onSearch:(e,t)=>{t.length>0?fetch("/api/search/".concat(e,"/").concat(t)).then(e=>e.json()).then(e=>{m(e.searchResults)}).catch(e=>console.error("Error fetching search results:",e)):(j("검색어를 1글자 이상 입력하세요"),y())}})}),(0,a.jsxs)("div",{className:"flex justify-center mt-4",children:[(0,a.jsx)("button",{className:"mx-1 px-3 py-1 border rounded",onClick:()=>C(r-1),disabled:1===r,children:"<"}),(()=>{let e=[],t=5*Math.floor((r-1)/5)+1;for(let s=t;s<t+5;s++)s<=x&&e.push((0,a.jsx)("button",{className:"mx-1 px-3 py-1 border rounded ".concat(s===r?"bg-gray-300":""),onClick:()=>C(s),children:s},s));return e})(),(0,a.jsx)("button",{className:"mx-1 px-3 py-1 border rounded",onClick:()=>C(r+1),disabled:r===x,children:">"})]}),(0,a.jsxs)(d(),{isOpen:g,onRequestClose:N,ariaHideApp:!1,style:{overlay:{backgroundColor:" rgba(0, 0, 0, 0.4)",width:"100%",height:"100vh",zIndex:"10",position:"fixed",top:"0",left:"0"},content:{display:"flex",flexDirection:"column",alignItems:"center",width:"360px",height:"180px",zIndex:"150",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",borderRadius:"10px",boxShadow:"2px 2px 2px rgba(0, 0, 0, 0.25)",backgroundColor:"white",justifyContent:"center",overflow:"auto",whiteSpace:"pre-line"}},contentLabel:"아이디어 검색 모달",children:[(0,a.jsx)("p",{children:f}),(0,a.jsx)("button",{className:"w-40 h-10 rounded-2xl bg-gray-200 mt-5",onClick:N,children:"닫기"})]})]})}},4605:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return n}});var a=r(3827),s=r(7907);function n(){let e=(0,s.useRouter)();return(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"15",height:"25",viewBox:"0 0 15 25",fill:"none",onClick:()=>e.back(),className:"cursor-pointer",children:(0,a.jsx)("path",{d:"M14.1406 3.55235L5.5692 12.1238L14.1406 20.6952L12.4263 24.1238L0.426343 12.1238L12.4263 0.123779L14.1406 3.55235Z",fill:"#23A6F0"})})}},8792:function(e,t,r){"use strict";r.d(t,{default:function(){return s.a}});var a=r(5250),s=r.n(a)},7907:function(e,t,r){"use strict";var a=r(5313);r.o(a,"usePathname")&&r.d(t,{usePathname:function(){return a.usePathname}}),r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}})},731:function(e,t,r){"use strict";var a=r(4090);let s=a.forwardRef(function(e,t){let{title:r,titleId:s,...n}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},n),r?a.createElement("title",{id:s},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.625 12a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0H8.25m4.125 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0H12m4.125 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0h-.375M21 12c0 4.556-4.03 8.25-9 8.25a9.764 9.764 0 0 1-2.555-.337A5.972 5.972 0 0 1 5.41 20.97a5.969 5.969 0 0 1-.474-.065 4.48 4.48 0 0 0 .978-2.025c.09-.457-.133-.901-.467-1.226C3.93 16.178 3 14.189 3 12c0-4.556 4.03-8.25 9-8.25s9 3.694 9 8.25Z"}))});t.Z=s},137:function(e,t,r){"use strict";var a=r(4090);let s=a.forwardRef(function(e,t){let{title:r,titleId:s,...n}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},n),r?a.createElement("title",{id:s},r):null,a.createElement("path",{d:"m11.645 20.91-.007-.003-.022-.012a15.247 15.247 0 0 1-.383-.218 25.18 25.18 0 0 1-4.244-3.17C4.688 15.36 2.25 12.174 2.25 8.25 2.25 5.322 4.714 3 7.688 3A5.5 5.5 0 0 1 12 5.052 5.5 5.5 0 0 1 16.313 3c2.973 0 5.437 2.322 5.437 5.25 0 3.925-2.438 7.111-4.739 9.256a25.175 25.175 0 0 1-4.244 3.17 15.247 15.247 0 0 1-.383.219l-.022.012-.007.004-.003.001a.752.752 0 0 1-.704 0l-.003-.001Z"}))});t.Z=s}},function(e){e.O(0,[245,250,971,69,744],function(){return e(e.s=8224)}),_N_E=e.O()}]);