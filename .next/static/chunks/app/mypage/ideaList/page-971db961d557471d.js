(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[579],{7657:function(e,t,r){Promise.resolve().then(r.bind(r,8173))},8173:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return l}});var a=r(3827),o=r(4090),n=r(4095),i=r(8245),c=r.n(i);function s(e){let{ideaId:t}=e,[r,n]=(0,o.useState)([]);(0,o.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/applied-idea/".concat(t));if(!e.ok)throw Error("Failed to fetch applied ideas");let r=await e.json();n(r)}catch(e){console.error("Error fetching applied ideas:",e)}})()},[t]);let i=async(e,t)=>{try{if(console.log("전송하는 데이터:",{approved:t}),!(await fetch("/api/approve-idea/".concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({approved:!t})})).ok)throw Error("Failed to update approval status");let a=r.map(r=>r.ideaId===e?{...r,approved:!t}:r);n(a)}catch(e){console.error("Error updating approval status:",e)}};return(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"아이디어 지원 목록"}),(0,a.jsx)("ul",{children:r.map(e=>(0,a.jsx)("li",{className:"mb-4",children:(0,a.jsxs)("div",{className:"bg-white w-96 rounded-lg shadow-md p-4",children:[(0,a.jsxs)("p",{className:"mb-2",children:[(0,a.jsx)("strong",{children:"지원자:"})," ",e.developer]}),(0,a.jsxs)("p",{className:"mb-2",children:[(0,a.jsx)("strong",{children:"내용:"})," ",e.content]}),(0,a.jsx)("button",{onClick:()=>i(e.ideaId,e.approved),className:"rounded-md px-4 py-2 ".concat(e.approved?"bg-green-500 text-white":"bg-blue-500 text-white"),children:e.approved?"승인완료":"승인"})]})},e._id))})]})}function l(){let[e,t]=(0,o.useState)([]),[r,i]=(0,o.useState)(null);(0,o.useEffect)(()=>{(async()=>{try{let e=(0,n.I)(),r=await fetch("/api/user-ideas/".concat(e));if(!r.ok)throw Error("Failed to fetch user ideas");let a=await r.json();t(a)}catch(e){console.error("Error fetching user ideas:",e)}})()},[]);let l=e=>{i(e)},d=()=>{i(null)};return(0,a.jsxs)("div",{className:"container p-4",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"내가 작성한 아이디어 목록"}),(0,a.jsx)("ul",{className:"grid gap-4 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3",children:e.map(e=>(0,a.jsxs)("li",{className:"bg-white rounded-lg shadow-md p-4",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold mb-2",children:e.title}),(0,a.jsxs)("p",{className:"text-gray-500 text-sm",children:["작성일: ",e.addDate]}),(0,a.jsx)("button",{className:"bg-green-500 text-white px-4 py-2 rounded-md mt-2",onClick:()=>l(e),children:"개발지원목록"})]},e._id))}),(0,a.jsxs)(c(),{isOpen:!!r,onRequestClose:d,ariaHideApp:!1,style:{overlay:{backgroundColor:" rgba(0, 0, 0, 0.4)",width:"100%",height:"100vh",zIndex:"10",position:"fixed",top:"0",left:"0"},content:{display:"flex",flexDirection:"column",alignItems:"center",width:"600px",height:"720px",zIndex:"150",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",borderRadius:"10px",boxShadow:"2px 2px 2px rgba(0, 0, 0, 0.25)",backgroundColor:"white",justifyContent:"center",overflow:"auto",whiteSpace:"pre-line"}},contentLabel:"아이디어 목록 모달",children:[r&&(0,a.jsx)(s,{ideaId:r._id}),(0,a.jsx)("button",{className:"w-40 h-10 rounded-2xl bg-gray-200 mt-3",onClick:d,children:"닫기"})]})]})}},4095:function(e,t,r){"use strict";r.d(t,{I:function(){return o}});var a=r(4849);function o(){let e=localStorage.getItem("token");if(e)try{let t=e.split(".")[1],r=(0,a.Jx)(t);return JSON.parse(r).username}catch(e){console.error("Error parsing token:",e)}return null}},4849:function(e,t,r){"use strict";let a;r.d(t,{Jx:function(){return w}});var o=r(3663).lW;let n="function"==typeof atob,i="function"==typeof o,c="function"==typeof TextDecoder?new TextDecoder:void 0;"function"==typeof TextEncoder&&new TextEncoder;let s=(a={},Array.prototype.slice.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=").forEach((e,t)=>a[e]=t),a),l=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,d=String.fromCharCode.bind(String),p="function"==typeof Uint8Array.from?Uint8Array.from.bind(Uint8Array):e=>new Uint8Array(Array.prototype.slice.call(e,0)),h=e=>e.replace(/[^A-Za-z0-9\+\/]/g,""),u=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,f=e=>{switch(e.length){case 4:var t=((7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3))-65536;return d((t>>>10)+55296)+d((1023&t)+56320);case 3:return d((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return d((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},x=e=>e.replace(u,f),m=n?e=>atob(h(e)):i?e=>o.from(e,"base64").toString("binary"):e=>{if(e=e.replace(/\s+/g,""),!l.test(e))throw TypeError("malformed base64.");e+="==".slice(2-(3&e.length));let t,r="",a,o;for(let n=0;n<e.length;)t=s[e.charAt(n++)]<<18|s[e.charAt(n++)]<<12|(a=s[e.charAt(n++)])<<6|(o=s[e.charAt(n++)]),r+=64===a?d(t>>16&255):64===o?d(t>>16&255,t>>8&255):d(t>>16&255,t>>8&255,255&t);return r},g=i?e=>p(o.from(e,"base64")):e=>p(m(e).split("").map(e=>e.charCodeAt(0))),b=i?e=>o.from(e,"base64").toString("utf8"):c?e=>c.decode(g(e)):e=>x(m(e)),y=e=>h(e.replace(/[-_]/g,e=>"-"==e?"+":"/")),w=e=>b(y(e))}},function(e){e.O(0,[245,663,971,69,744],function(){return e(e.s=7657)}),_N_E=e.O()}]);